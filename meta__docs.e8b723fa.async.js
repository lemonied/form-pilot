"use strict";(self.webpackChunkform_pilot=self.webpackChunkform_pilot||[]).push([[904],{36761:function($,y,r){var O;r.r(y),r.d(y,{demos:function(){return Q}});var m=r(15009),D=r.n(m),L=r(99289),h=r.n(L),V=r(67294),E=r(41103),w=r(56076),x=r(67191),P=r(98231),A=r(41686),J=r(78944),Q={"docs-api-demo-normalform":{component:V.memo(V.lazy(function(){return r.e(433).then(r.bind(r,31343))})),asset:{type:"BLOCK",id:"docs-api-demo-normalform",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(98666).Z},react:{type:"NPM",value:"19.0.0"},"form-pilot":{type:"NPM",value:"0.0.4"},"./components/Input.tsx":{type:"FILE",value:r(31375).Z},"./components/Grid.tsx":{type:"FILE",value:r(62935).Z},"styled-components":{type:"NPM",value:"6.1.15"}},entry:"index.tsx"},context:{"./components/Input.tsx":x,"./components/Grid.tsx":P,react:O||(O=r.t(V,2)),"form-pilot":w,"/home/runner/work/form-pilot/form-pilot/docs/examples/components/Input.tsx":x,"/home/runner/work/form-pilot/form-pilot/docs/examples/components/Grid.tsx":P,"styled-components":A},renderOpts:{compile:function(){var N=h()(D()().mark(function _(){var M,G=arguments;return D()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,r.e(335).then(r.bind(r,37335));case 2:return C.abrupt("return",(M=C.sent).default.apply(M,G));case 3:case"end":return C.stop()}},_)}));function b(){return N.apply(this,arguments)}return b}()}},"docs-api-demo-initialvalue":{component:V.memo(V.lazy(function(){return r.e(433).then(r.bind(r,14744))})),asset:{type:"BLOCK",id:"docs-api-demo-initialvalue",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(47844).Z},react:{type:"NPM",value:"19.0.0"},"form-pilot":{type:"NPM",value:"0.0.4"},"./components/Grid.tsx":{type:"FILE",value:r(62935).Z},"./components/Input.tsx":{type:"FILE",value:r(31375).Z},"styled-components":{type:"NPM",value:"6.1.15"}},entry:"index.tsx"},context:{"./components/Grid.tsx":P,"./components/Input.tsx":x,react:O||(O=r.t(V,2)),"form-pilot":w,"/home/runner/work/form-pilot/form-pilot/docs/examples/components/Grid.tsx":P,"/home/runner/work/form-pilot/form-pilot/docs/examples/components/Input.tsx":x,"styled-components":A},renderOpts:{compile:function(){var N=h()(D()().mark(function _(){var M,G=arguments;return D()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,r.e(335).then(r.bind(r,37335));case 2:return C.abrupt("return",(M=C.sent).default.apply(M,G));case 3:case"end":return C.stop()}},_)}));function b(){return N.apply(this,arguments)}return b}()}},"docs-api-demo-validationbase":{component:V.memo(V.lazy(function(){return r.e(433).then(r.bind(r,30701))})),asset:{type:"BLOCK",id:"docs-api-demo-validationbase",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(16752).Z},react:{type:"NPM",value:"19.0.0"},"form-pilot":{type:"NPM",value:"0.0.4"}},entry:"index.tsx"},context:{react:O||(O=r.t(V,2)),"form-pilot":w},renderOpts:{compile:function(){var N=h()(D()().mark(function _(){var M,G=arguments;return D()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,r.e(335).then(r.bind(r,37335));case 2:return C.abrupt("return",(M=C.sent).default.apply(M,G));case 3:case"end":return C.stop()}},_)}));function b(){return N.apply(this,arguments)}return b}()}},"docs-api-demo-getvaluefromevent":{component:V.memo(V.lazy(function(){return r.e(433).then(r.bind(r,9236))})),asset:{type:"BLOCK",id:"docs-api-demo-getvaluefromevent",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(63556).Z},react:{type:"NPM",value:"19.0.0"},"form-pilot":{type:"NPM",value:"0.0.4"}},entry:"index.tsx"},context:{react:O||(O=r.t(V,2)),"form-pilot":w},renderOpts:{compile:function(){var N=h()(D()().mark(function _(){var M,G=arguments;return D()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,r.e(335).then(r.bind(r,37335));case 2:return C.abrupt("return",(M=C.sent).default.apply(M,G));case 3:case"end":return C.stop()}},_)}));function b(){return N.apply(this,arguments)}return b}()}},"docs-api-demo-validation":{component:V.memo(V.lazy(function(){return r.e(433).then(r.bind(r,34879))})),asset:{type:"BLOCK",id:"docs-api-demo-validation",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:r(86712).Z},react:{type:"NPM",value:"19.0.0"},"form-pilot":{type:"NPM",value:"0.0.4"},"../components/Grid.tsx":{type:"FILE",value:r(62935).Z},"../components/Item.tsx":{type:"FILE",value:r(75697).Z},"../components/Input.tsx":{type:"FILE",value:r(31375).Z},"styled-components":{type:"NPM",value:"6.1.15"}},entry:"index.tsx"},context:{"../components/Grid.tsx":P,"../components/Item.tsx":J,"../components/Input.tsx":x,react:O||(O=r.t(V,2)),"form-pilot":w,"/home/runner/work/form-pilot/form-pilot/docs/examples/components/Grid.tsx":P,"/home/runner/work/form-pilot/form-pilot/docs/examples/components/Item.tsx":J,"/home/runner/work/form-pilot/form-pilot/docs/examples/components/Input.tsx":x,"styled-components":A},renderOpts:{compile:function(){var N=h()(D()().mark(function _(){var M,G=arguments;return D()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,r.e(335).then(r.bind(r,37335));case 2:return C.abrupt("return",(M=C.sent).default.apply(M,G));case 3:case"end":return C.stop()}},_)}));function b(){return N.apply(this,arguments)}return b}()}}}},11171:function($,y,r){r.r(y),r.d(y,{demos:function(){return D}});var O=r(67294),m=r(68537),D={}},98231:function($,y,r){r.r(y),r.d(y,{Col:function(){return w},Row:function(){return E}});var O=r(68400),m=r.n(O),D=r(41686),L,h,V=function(P){return typeof P=="number"?"".concat(P,"px"):P},E=D.default.div(L||(L=m()([`
  display: flex;
  flex-wrap: wrap;
  align-items: `,`;
  justify-content: `,`;
  gap: `,`;
`])),function(x){var P;return(P=x.$align)!==null&&P!==void 0?P:"center"},function(x){var P;return(P=x.$justify)!==null&&P!==void 0?P:"unset"},function(x){var P;return(P=V(x.$gap))!==null&&P!==void 0?P:"unset"}),w=D.default.div(h||(h=m()([`
  flex: `,`;
`])),function(x){var P;return(P=x.$flex)!==null&&P!==void 0?P:"0 0 auto"})},67191:function($,y,r){r.r(y),r.d(y,{Input:function(){return h}});var O=r(97857),m=r.n(O),D=r(67294),L=r(85893),h=function(E){var w=E;if("value"in E){var x;w=m()(m()({},E),{},{value:(x=E.value)!==null&&x!==void 0?x:""})}return(0,L.jsx)("input",m()({},w))}},78944:function($,y,r){r.r(y);var O=r(97857),m=r.n(O),D=r(13769),L=r.n(D),h=r(67294),V=r(56076),E=r(85893),w=["label"];y.default=function(x){var P=x.label,A=L()(x,w),J=V.default.useControl(x.control);return(0,E.jsxs)("div",{children:[!!P&&(0,E.jsx)("span",{style:{marginRight:8},children:P}),(0,E.jsx)(V.default.Item,m()(m()({},A),{},{control:J})),(0,E.jsx)(V.default.Validation,{control:J,children:function(N){var b;return(0,E.jsx)("div",{children:N==null||(b=N.results)===null||b===void 0?void 0:b.map(function(_,M){return(0,E.jsx)("span",{style:{color:_.type==="error"?"red":"orange"},children:_.message},M)})})}})]})}},56076:function($,y,r){r.r(y),r.d(y,{Rules:function(){return Pn},default:function(){return En}});var O=r(97857),m=r.n(O),D=r(13769),L=r.n(D),h=r(67294),V=r(19632),E=r.n(V),w=r(15009),x=r.n(w),P=r(99289),A=r.n(P),J=r(52677),Q=r.n(J),N=r(5574),b=r.n(N),_=r(12444),M=r.n(_),G=r(72004),Z=r.n(G),C=r(9783),f=r.n(C),B="_STORE_INTERNAL_TOKEN_",ee=function(e){if(typeof e!="undefined")return Array.isArray(e)?e.length?e:void 0:[e]},oe=function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!n||t&&e.length!==n.length?!1:e.every(function(a,l){return a===n[l]})},Ie=function(e){var n=ee(e),t=h.useRef(n);return(typeof n=="undefined"||typeof t.current=="undefined"||!oe(n,t.current,!0))&&(t.current=n),t.current},le=function(){function o(){M()(this,o),f()(this,"listeners",[])}return Z()(o,[{key:"add",value:function(n){var t=this;return this.listeners.push(n),function(){t.remove(n)}}},{key:"remove",value:function(n){var t=this.listeners.indexOf(n);t>-1&&this.listeners.splice(t,1)}},{key:"trigger",value:function(n){this.listeners.forEach(function(t){return t(n)})}}]),o}(),Le=r(64599),he=r.n(Le);function je(o){return typeof o=="undefined"||o===null}function ge(o){if(o&&Q()(o)==="object")return Array.isArray(o)?[]:{}}function H(o){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=o,t=!0,a=he()(e),l;try{for(a.s();!(l=a.n()).done;){var i,d=l.value;if(t=!je(n)&&Object.prototype.hasOwnProperty.call(n,d),n=(i=n)===null||i===void 0?void 0:i[d],!t)break}}catch(g){a.e(g)}finally{a.f()}return[n,t]}function xe(o){return Array.isArray(o)?E()(o):Object.assign({},o)}function ye(o){return typeof o=="number"?[]:{}}function Ce(o,e,n){for(var t=xe(o!=null?o:ye(e[0])),a=t,l=0;l<e.length;l+=1){var i,d=e[l];if(l===e.length-1)return a[d]=n,t;a[d]=xe((i=a[d])!==null&&i!==void 0?i:ye(e[l+1])),a=a[d]}return t}function $e(o,e,n){for(var t=n,a=n,l=0;l<e.length&&(l===0&&!t&&(t=ge(o),a=t),!!a);l+=1){var i=e[l],d=H(o,e.slice(0,l+1)),g=b()(d,2),I=g[0],u=g[1];if(l===e.length-1){u&&(a[i]=I);break}var v=H(n,e.slice(0,l+1)),c=b()(v,2),s=c[0],p=c[1];p?a[i]=s:u&&(a[i]=ge(I)),a=a[i]}return t}function Pe(o,e,n){if(e>o.length-1||n>o.length-1)throw new Error("Out of range");var t=o[e],a=o[n];return o[n]=t,o[e]=a,o}function Ne(o){if(Q()(o)!=="object"||o===null)return!1;var e=Object.getPrototypeOf(o);return e===Object.prototype||e===null}function Se(o,e){return e&&e.target&&Q()(e.target)==="object"&&o in e.target?e.target[o]:e}var Ee=Symbol("control"),we=function(){function o(){var e=this;M()(this,o),f()(this,"lock",!1),f()(this,"type","item"),f()(this,"parent",void 0),f()(this,"children",new Set),f()(this,"value",void 0),f()(this,"initialValue",void 0),f()(this,"namePaths",void 0),f()(this,"touched",!1),f()(this,"validator",function(){return Promise.resolve()}),f()(this,"validating",void 0),f()(this,"validationChange",new le),f()(this,"validationErrors",void 0),f()(this,"validateMessages",void 0),f()(this,"valueChange",new le),f()(this,"listChange",new le),f()(this,"resetChange",new le),f()(this,"stamp",void 0),f()(this,"_init",!1),f()(this,"setValidator",function(n){n?e.validator=n:e.validator=function(){return Promise.resolve()}}),f()(this,"getStrictValue",function(n){if(e.type==="item")return e.value;var t,a=n==null?void 0:n.map(ee),l=e.getInitializedValue(),i=function d(g){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];g.forEach(function(u){var v=[].concat(E()(I),E()(u.namePaths));u.type==="item"&&(!a||a.some(function(c){return!c||oe(c,v)}))&&(t=$e(l,v,t)),d(u.children,v)})};return i(e.children),t}),f()(this,"getName",function(){if(e.parent)return e.namePaths}),f()(this,"getFullName",function(){if(e.parent)return[].concat(E()(e.parent.getFullName()||[]),E()(e.namePaths))}),f()(this,"triggerValidationChange",function(){e.validationChange.trigger(e.validating),e.validating?e.validating.catch(function(n){return e.validationErrors=n}):e.validationErrors=void 0}),f()(this,"validateByEvent",function(n){var t=typeof n=="function"?n:e.validator;e.validating=t(e.internalControl),e.triggerValidationChange()}),f()(this,"validateOptionalThrow",function(){var n=A()(x()().mark(function t(a){var l,i,d,g;return x()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return l=a||{},i=l.thrownTypes,d=i===void 0?["error"]:i,e.validating=e.validator(e.internalControl),e.triggerValidationChange(),u.prev=3,u.next=6,e.validating;case 6:u.next=13;break;case 8:if(u.prev=8,u.t0=u.catch(3),g=u.t0.filter(function(v){return d.includes(v.type)}),!g.length){u.next=13;break}throw g;case 13:case"end":return u.stop()}},t,null,[[3,8]])}));return function(t){return n.apply(this,arguments)}}()),f()(this,"validate",function(){var n=A()(x()().mark(function t(a){return x()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.validateOptionalThrow(a);case 2:return i.abrupt("return",e.getStrictValue());case 3:case"end":return i.stop()}},t)}));return function(t){return n.apply(this,arguments)}}()),f()(this,"clearValidation",function(){e.validating=void 0,e.triggerValidationChange(),e.children.forEach(function(n){return n.clearValidation()})}),f()(this,"validateFields",function(){var n=A()(x()().mark(function t(a,l){var i,d,g;return x()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=[],d=function v(c,s,p){var F=s==null?void 0:s.map(ee),R=p||{},S=R.recursive;if(!F){i.push(function(){return c.validateOptionalThrow(l)}),c.children.forEach(function(T){return v(T)});return}if(F.length){if(F.some(function(T){return!T})&&(i.push(function(){return c.validateOptionalThrow(l)}),S)){c.children.forEach(function(T){return v(T)});return}c.children.forEach(function(T){var j=F.filter(function(ae){return oe(T.namePaths,ae)});v(T,j.map(function(ae){return ae.slice(T.namePaths.length)}),p)})}},d(e,a,l),u.next=5,Promise.all(i.map(function(v){return v().catch(function(c){return c})}));case 5:if(g=u.sent.filter(Boolean),!g.length){u.next=8;break}throw g;case 8:return u.abrupt("return",e.getStrictValue(a));case 9:case"end":return u.stop()}},t)}));return function(t,a){return n.apply(this,arguments)}}()),f()(this,"getValidationErrors",function(){var n,t=((n=e.validationErrors)===null||n===void 0?void 0:n.slice())||[];if(e.children.forEach(function(a){var l=a.getValidationErrors();l&&t.push.apply(t,E()(l))}),t.length)return t}),f()(this,"manualSetValue",function(n){return e.setData({value:n}),e.clearValidation(),e.value}),f()(this,"setFieldValue",function(n,t){var a=ee(n);if(!(!a||e.type==="item")){var l=e.get(a);l?l.setValue(t):e.setData({value:Ce(e.getInitializedValue(),a,t)})}}),f()(this,"isTouched",function(){return e.type==="item"||e.touched?e.touched:Array.from(e.children).some(function(n){return n.isTouched()})}),f()(this,"reset",function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;e.setData({value:e.getInitialValue(),preventCapturing:!0,preventBubbling:n}),e.resetChange.trigger(),e.touched=!1,e.children.forEach(function(t){return t.reset(!0)})}),f()(this,"triggerReset",function(){e.reset(),e.clearValidation()}),f()(this,"add",function(n,t){if(e.type!=="list")throw new Error("".concat(e.type," has no method add."));e.listChange.trigger({type:"add",value:n,insertIndex:t})}),f()(this,"remove",function(n){if(e.type!=="list")throw new Error("".concat(e.type," has no method remove."));e.listChange.trigger({type:"remove",index:n})}),f()(this,"move",function(n,t){if(e.type!=="list")throw new Error("".concat(e.type," has no method move."));e.listChange.trigger({type:"move",from:n,to:t})}),f()(this,"get",function(n){var t=ee(n);if(t){for(var a=0,l=Array.from(e.children);a<l.length;a++){var i=l[a];if(oe(i.namePaths,t)){var d=i.get(t.slice(i.namePaths.length));if(d)return d}}return}return e.internalControl}),f()(this,"control",{getValue:function(){return e.value},getStrictValue:this.getStrictValue,getName:this.getName,getFullName:this.getFullName,setValue:this.manualSetValue,setFieldValue:this.setFieldValue,isTouched:this.isTouched,reset:this.triggerReset,validate:this.validate,validateFields:this.validateFields,getValidationErrors:this.getValidationErrors,clearValidation:this.clearValidation,add:this.add,remove:this.remove,move:this.move,get:this.get}),f()(this,"internalControl",m()(m()({},this.control),{},f()({getStore:function(t){if(t===B)return e;throw new Error("For internal use only")}},Ee,!0)))}return Z()(o,[{key:"init",value:function(n){this.initialValue=n.value,!this._init&&(this.namePaths=n.namePaths,this.parent?this.setData({value:H(this.parent.value,this.namePaths)[0]}):this.setData({value:this.getInitialValue()}),this._init=!0)}},{key:"getInitialValue",value:function(){return this.parent?H(this.parent.getInitialValue(),this.namePaths)[0]:this.initialValue}},{key:"getInitializedValue",value:function(){return this.type==="list"&&!Array.isArray(this.value)?[]:this.type==="group"&&!Ne(this.value)?Object.assign({},this.value):this.value}},{key:"setNamePaths",value:function(n){this.namePaths=n,this.parent&&this.setData({value:H(this.parent.value,this.namePaths)[0]})}},{key:"setData",value:function(n){var t=this;if(!this.lock){this.lock=!0;var a=n.eventInterceptor,l=n.preventCapturing,i=n.preventBubbling,d=n.value,g=this.value,I=[];if(!i&&this.parent&&!this.parent.lock){var u=this.parent.value,v=H(this.parent.value,this.namePaths),c=b()(v,1),s=c[0];Object.is(s,d)||(u=Ce(this.parent.getInitializedValue(),this.namePaths,d)),this.parent.setData({value:u,eventInterceptor:function(F){I.push(F)}})}this.value=d,Object.is(this.value,g)||(I.push(function(){return t.valueChange.trigger({newValue:d,oldValue:g})}),l||this.children.forEach(function(p){p.lock||p.setData({value:H(t.value,p.namePaths)[0],eventInterceptor:function(R){I.push(R)}})})),typeof a=="function"?a(function(){return I.forEach(function(p){return p()})}):I.forEach(function(p){return p()}),this.lock=!1}}}]),o}();function Ae(o){return!!o&&Q()(o)==="object"&&!!o[Ee]}function _e(o,e){return o.replace(/\\?\$\{\w+\}/g,function(n){var t;if(n.startsWith("\\"))return n.slice(1);var a=n.slice(2,-1);return"".concat((t=e[a])!==null&&t!==void 0?t:"")})}var ne=Z()(function o(e){M()(this,o),f()(this,"message",void 0),f()(this,"variable",void 0),Object.assign(this,e)}),ie=function(){function o(e){var n=this;M()(this,o),f()(this,"defaultMessage",void 0),f()(this,"name",void 0),f()(this,"setDefaultMessage",function(t){n.defaultMessage=t}),this.defaultMessage=e.defaultMessage,this.name=e.name}return Z()(o,[{key:"factory",value:function(n){var t=this,a=function(){var i=n.apply(void 0,arguments),d=m()(m()({},i),{},{validator:function(){var g=A()(x()().mark(function u(v){var c;return x()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,i.validator(v);case 3:return p.abrupt("return",p.sent);case 6:if(p.prev=6,p.t0=p.catch(0),!(p.t0 instanceof Error)){p.next=10;break}throw p.t0;case 10:throw c=function(){if(p.t0 instanceof ne){var F,R;if(typeof p.t0.message=="string")return p.t0.message;var S=(F=v.getStore(B).validateMessages)===null||F===void 0?void 0:F[t.name];return _e(S!=null?S:t.defaultMessage,m()({name:(R=v.getFullName())===null||R===void 0?void 0:R.join(",")},p.t0.variable))}return typeof p.t0=="string"?p.t0:"".concat(p.t0)}(),new Error(c);case 12:case"end":return p.stop()}},u,null,[[0,6]])}));function I(u){return g.apply(this,arguments)}return I}()});return d};return a.setDefaultMessage=this.setDefaultMessage,Object.defineProperty(a,"defaultMessage",{get:function(){return t.defaultMessage}}),Object.defineProperty(a,"name",{get:function(){return t.name}}),a}}]),o}(),me=Z()(function o(e){M()(this,o),f()(this,"type",void 0),f()(this,"message",void 0),f()(this,"control",void 0),Object.assign(this,e)}),Fe=function(){var o=A()(x()().mark(function e(n){var t,a,l,i,d,g,I,u,v=arguments;return x()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(t=v.length>1&&v[1]!==void 0?v[1]:"serial",a=v.length>2?v[2]:void 0,!a){s.next=35;break}if(l=function(){var p=A()(x()().mark(function F(R){var S;return x()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,j.next=3,R.validator(n);case 3:j.next=9;break;case 5:return j.prev=5,j.t0=j.catch(0),S=j.t0 instanceof Error?j.t0.message:"".concat(j.t0),j.abrupt("return",new me({type:R.type||"error",message:S,control:n}));case 9:case"end":return j.stop()}},F,null,[[0,5]])}));return function(R){return p.apply(this,arguments)}}(),i=[],t!=="serial"){s.next=30;break}d=he()(a),s.prev=7,d.s();case 9:if((g=d.n()).done){s.next=20;break}return I=g.value,s.next=13,l(I);case 13:if(u=s.sent,!(u instanceof me)){s.next=18;break}if(i.push(u),u.type!=="error"){s.next=18;break}return s.abrupt("break",20);case 18:s.next=9;break;case 20:s.next=25;break;case 22:s.prev=22,s.t0=s.catch(7),d.e(s.t0);case 25:return s.prev=25,d.f(),s.finish(25);case 28:s.next=33;break;case 30:return s.next=32,Promise.all(a.map(l));case 32:i=s.sent.filter(function(p){return p instanceof me});case 33:if(!(i.length>0)){s.next=35;break}throw i;case 35:case"end":return s.stop()}},e,null,[[7,22,25,28]])}));return function(n){return o.apply(this,arguments)}}(),K=r(85893),Be=["children"],Re=h.createContext(null),ve=function(){return h.useContext(Re)||{}},Ke=function(e){var n=e.children,t=L()(e,Be),a=ve(),l=h.useMemo(function(){return m()(m()(m()({},a),t),{},{validateMessages:m()(m()({},a.validateMessages),t.validateMessages)})},[a,t]);return(0,K.jsx)(Re.Provider,{value:l,children:n})},We=["name","root","control"],te=h.createContext(void 0),Ue=["independentControl"],Y=function(e){var n=h.useRef(void 0),t=h.useRef(e);if(t.current!==e)throw new Error('Parameter "control" cannot be variable.');return n.current||(e?n.current=e:n.current=new we().internalControl),n.current},Ve=function(e){var n=e.children,t=e.control,a=e.initialValue,l=e.namePaths,i=e.rules,d=e.ref,g=h.useRef({}),I=h.useContext(te)||{},u=I.parent,v=I.validateMode,c=u==null?void 0:u.getStore(B),s=t.getStore(B);return s.parent=c,s.init({value:a,namePaths:l}),s.setValidator(function(){var p=A()(x()().mark(function F(R){return x()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,Fe(R,v,i);case 2:return T.abrupt("return",T.sent);case 3:case"end":return T.stop()}},F)}));return function(F){return p.apply(this,arguments)}}()),h.useEffect(function(){if(s.stamp||(s.stamp=g.current),s.stamp!==g.current)throw new Error('"control" cannot be attached to multiple components at the same time');return function(){s.stamp=void 0}},[s]),h.useEffect(function(){return c==null||c.children.add(s),s.parent=c,function(){s.parent=void 0,c==null||c.children.delete(s)}},[s,c]),h.useEffect(function(){l!==s.namePaths&&s.setNamePaths(l)},[s,l]),h.useImperativeHandle(d,function(){return t}),n},Ge=function(e){var n=e.control,t=e.namePaths,a=e.validateTrigger,l=e.validateMode,i=h.useContext(te),d=h.useMemo(function(){var g=i||{},I=g.collection,u=I===void 0?[]:I,v=g.namePathList,c=v===void 0?[]:v,s=g.validateMode,p=g.validateTrigger,F=u[u.length-1];return n.getStore(B).type!=="item"&&(u=[].concat(E()(u),[n]),c=[].concat(E()(c),[t])),{control:n,collection:u,parent:F,namePathList:c,validateTrigger:a||p,validateMode:l||s}},[i,n,t,l,a]);return(0,K.jsx)(te.Provider,{value:d,children:(0,K.jsx)(Ve,m()({},e))})},Ze=function(e){var n=e.name,t=e.root,a=e.control,l=L()(e,We),i=l.validateMode,d=l.validateTrigger,g=Ie(n),I=Y(a),u=ve();I.getStore(B).validateMessages=u.validateMessages;var v=h.useMemo(function(){return{control:I,collection:[I],namePathList:[],validateMode:i,validateTrigger:d}},[I,i,d]);return t||!g?(0,K.jsx)(te.Provider,{value:v,children:(0,K.jsx)(Ve,m()(m()({},l),{},{control:I,namePaths:Ue}))}):(0,K.jsx)(Ge,m()(m()({},l),{},{control:I,namePaths:g}))},ue=Ze,ke=["control"],ze=function(e){var n=e.control,t=L()(e,ke),a=Y(n);return a.getStore(B).type="group",(0,K.jsx)(ue,m()(m()({},t),{},{control:a,root:!1}))},He=ze,be=function(){return h.useContext(te)||{}},se=function(e){var n=be(),t=n.collection,a=n.control;return e&&t?t[0]:a},re=function(e){var n=h.useRef(e);n.current!==e&&console.warn('Parameter "control" cannot be variable.');var t=se();return n.current||t},Je=["control","children"],de=function(e){return e.map(function(n,t){return m()(m()({},n),{},{name:t})})},Qe=function(e){var n=e.children,t=se(),a=t.getStore(B),l=h.useRef(-1),i=h.useState(function(){var u=t.getValue()||[];return u.map(function(v,c){return{name:c,key:++l.current}})}),d=b()(i,2),g=d[0],I=d[1];return h.useEffect(function(){return a.listChange.add(function(u){var v=E()(a.value||[]);switch(a.touched=!0,u.type){case"add":{var c=typeof u.insertIndex=="number"?u.insertIndex:v.length;I(function(s){var p=E()(s);return p.splice(c,0,{name:p.length,key:++l.current}),de(p)}),v.splice(c,0,u.value),a.setData({value:v,preventCapturing:!0});break}case"remove":{I(function(s){var p=E()(s);return p.splice(u.index,1),de(p)}),v.splice(u.index,1),a.setData({value:v,preventCapturing:!0});break}case"move":{I(function(s){return de(Pe(E()(s),u.from,u.to))}),Pe(v,u.from,u.to),a.setData({value:v,preventCapturing:!0});break}}a.validateOptionalThrow()})},[a]),h.useEffect(function(){return a.valueChange.add(function(u){var v=u.newValue,c=u.oldValue,s=(v==null?void 0:v.length)||0,p=(c==null?void 0:c.length)||0;s!==p&&I(function(F){var R=F;if(R.length>s)R=R.slice(0,s);else if(R.length<s){R=E()(R);for(var S=R.length;S<s;S+=1)R.push({name:S,key:++l.current})}return de(R)})})},[a]),n(g,t)},Xe=function(e){var n=e.control,t=e.children,a=L()(e,Je),l=Y(n);return l.getStore(B).type="list",(0,K.jsx)(ue,m()(m()({},a),{},{control:l,root:!1,children:(0,K.jsx)(Qe,{children:t})}))},Ye=Xe,pe=function(e,n){var t=re(n),a=h.useRef(e);a.current=h.useMemo(function(){return e},[e]),h.useEffect(function(){return t==null?void 0:t.getStore(B).valueChange.add(function(l){return a.current(l)})},[t])};function Me(o,e){var n=void 0,t=void 0,a=h.useRef(void 0);e&&(n=e),Ae(o)?n=o:typeof o=="function"?a.current=o:t=o;var l=re(n),i=Ie(t),d=h.useCallback(function(){return a.current?a.current(l.getValue()):i?H(l.getValue(),i)[0]:l.getValue()},[i,l]),g=h.useState(function(){return d()}),I=b()(g,2),u=I[0],v=I[1];return h.useEffect(function(){v(d())},[l,d]),pe(function(){var c=d();Object.is(u,c)||v(c)},l),u}var qe=["control","children","valuePropName","trigger","getValueFromEvent","rules"],en=function(e){var n=e.element,t=e.restProps,a=Me();return h.cloneElement(n,m()(m()({},t),{},{value:a}))},nn=function(e){var n=e.children,t=e.valuePropName,a=t===void 0?"value":t,l=e.getValueFromEvent,i=e.trigger,d=i===void 0?"onChange":i,g=e.rules,I=g===void 0?[]:g,u=se(),v=be(),c=v.validateTrigger,s=c===void 0?"onChange":c,p=v.validateMode,F=u.getStore(B);return h.Children.map(n,function(R,S){if(S===0&&h.isValidElement(R)){var T=R,j=I.map(function(U){var k=U.validateTrigger||s;return m()(m()({},U),{},{validateTrigger:Array.isArray(k)?k:[k]})}),ae=Array.from(new Set([s].concat(E()(j.map(function(U){return U.validateTrigger}))).flat(1))),fe=ae.reduce(function(U,k){return U[k]=function(){var z,X;F.validateByEvent(A()(x()().mark(function Fn(){return x()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,Fe(u,p,j.filter(function(Rn){return Rn.validateTrigger.includes(k)}));case 2:return q.abrupt("return",q.sent);case 3:case"end":return q.stop()}},Fn)})));for(var Te=arguments.length,De=new Array(Te),ce=0;ce<Te;ce++)De[ce]=arguments[ce];return(z=(X=T.props)[k])===null||z===void 0?void 0:z.call.apply(z,[X].concat(De))},U},f()({},d,T.props[d]));return(0,K.jsx)(en,{element:T,restProps:m()(m()({},fe),{},f()({},d,function(){var U;F.touched=!0;for(var k=arguments.length,z=new Array(k),X=0;X<k;X++)z[X]=arguments[X];return F.setData({value:typeof l=="function"?l.apply(void 0,z):Se(a,z[0])}),(U=fe[d])===null||U===void 0?void 0:U.call.apply(U,[fe].concat(z))}))},"inputRender")}return R})},tn=function(e){var n=e.control,t=e.children,a=e.valuePropName,l=e.trigger,i=e.getValueFromEvent,d=e.rules,g=L()(e,qe),I=h.useState(0),u=b()(I,2),v=u[0],c=u[1],s=Y(n),p=s.getStore(B);return p.type="item",h.useEffect(function(){return p.resetChange.add(function(){c(function(F){return F+1})})},[p]),(0,K.jsx)(ue,m()(m()({},g),{},{rules:d,control:s,root:!1,children:(0,K.jsx)(nn,{valuePropName:a,trigger:l,getValueFromEvent:i,rules:d,children:t},v)}))},rn=tn,Oe=function(e){var n=re(e),t=h.useRef(void 0),a=h.useState({}),l=b()(a,2),i=l[1],d=h.useRef({status:"init"});return h.useEffect(function(){var g=function(c){var s;c.status!==((s=d.current)===null||s===void 0?void 0:s.status)&&(d.current=c,i({}))},I=n==null?void 0:n.getStore(B),u=function(c){t.current=c,c?(g(m()(m()({},d.current),{},{status:"pending"})),c.then(function(){t.current===c&&g({status:"fulfilled"})}).catch(function(s){t.current===c&&g({status:"rejected",results:s})})):g({status:"init"})};return u(I==null?void 0:I.validating),I==null?void 0:I.validationChange.add(u)},[n]),d.current},an=function(e){var n=e.control,t=e.children,a=re(n),l=Oe(a);return t(l,a)},on=function(e){var n=e.children,t=e.condition,a=e.control,l=re(a),i=h.useState({}),d=b()(i,2),g=d[1];return pe(function(I){var u=I.oldValue,v=I.newValue;(typeof t=="function"&&t(v,u)||typeof t=="undefined")&&g({})},l),n(l)},ln=["initialValues","control"],W=function(e){var n=e.initialValues,t=e.control,a=L()(e,ln),l=Y(t);return l.getStore(B).type="group",(0,K.jsx)(ue,m()(m()({},a),{},{control:l,name:void 0,initialValue:n,root:!0}))};W.Item=rn,W.Group=He,W.List=Ye,W.ConfigProvider=Ke,W.useControl=Y,W.useOnValueChange=pe,W.useWatch=Me,W.useControlInstance=se,W.useValidation=Oe,W.useConfig=ve,W.Validation=an,W.Update=on;var un=W,sn=["message"],dn=new ie({name:"required",defaultMessage:'"${name}" is required'}),cn=dn.factory(function(o){var e=o||{},n=e.message,t=L()(e,sn);return m()(m()({},t),{},{validator:function(l){var i=l.getValue();return typeof i=="undefined"||i===null||i===""||Array.isArray(i)&&i.length===0?Promise.reject(new ne({message:n})):Promise.resolve()}})}),mn=["message"],vn=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,pn=new ie({name:"email",defaultMessage:'"${name}" is not a valid email'}),fn=pn.factory(function(o){var e=o||{},n=e.message,t=L()(e,mn);return m()(m()({},t),{},{validator:function(l){var i=l.getValue();return vn.test(i)?Promise.resolve():Promise.reject(new ne({message:n}))}})}),In=["message"],hn=["message"],gn=new ie({name:"maxLength",defaultMessage:'"${name}" can contain up to ${length} characters'}),xn=gn.factory(function(o,e){var n=e||{},t=n.message,a=L()(n,In);return m()(m()({},a),{},{validator:function(i){var d=i.getValue();return(typeof d=="string"||Array.isArray(d))&&d.length>o?Promise.reject(new ne({message:t,variable:{length:o}})):Promise.resolve()}})}),yn=new ie({name:"minLength",defaultMessage:'"${name}" must be at least ${length} characters'}),Cn=yn.factory(function(o,e){var n=e||{},t=n.message,a=L()(n,hn);return m()(m()({},a),{},{validator:function(i){var d=i.getValue(),g=typeof d=="string"||Array.isArray(d)?d.length:"".concat(d!=null?d:"").length;return g<o?Promise.reject(new ne({message:t,variable:{length:o}})):Promise.resolve()}})}),Pn={required:cn,email:fn,maxLength:xn,minLength:Cn},En=un},50609:function($,y,r){r.r(y),r.d(y,{texts:function(){return m}});var O=r(41103);const m=[{value:"The root element of the form, no actual DOM node will be created",paraId:0,tocIndex:5},{value:"property",paraId:1,tocIndex:5},{value:"description",paraId:1,tocIndex:5},{value:"type",paraId:1,tocIndex:5},{value:"default value",paraId:1,tocIndex:5},{value:"children",paraId:1,tocIndex:5},{value:"React.ReactNode",paraId:1,tocIndex:5},{value:"React.ReactNode",paraId:1,tocIndex:5},{value:"null",paraId:1,tocIndex:5},{value:"control",paraId:1,tocIndex:5},{value:"Form Control",paraId:1,tocIndex:5},{value:"Control",paraId:1,tocIndex:5},{value:"void",paraId:1,tocIndex:5},{value:"rules",paraId:1,tocIndex:5},{value:"Verification rules",paraId:1,tocIndex:5},{value:"Omit<Rule, 'validateTrigger'>[]",paraId:1,tocIndex:5},{value:"void",paraId:1,tocIndex:5},{value:"validateMode",paraId:1,tocIndex:5},{value:"validate mode",paraId:1,tocIndex:5},{value:"ValidateMode",paraId:1,tocIndex:5},{value:"serial",paraId:1,tocIndex:5},{value:"validateTrigger",paraId:1,tocIndex:5},{value:"validate trigger",paraId:1,tocIndex:5},{value:"ValidateTrigger",paraId:1,tocIndex:5},{value:"onChange",paraId:1,tocIndex:5},{value:"ref",paraId:1,tocIndex:5},{value:"React.Ref",paraId:1,tocIndex:5},{value:"React.Ref<Control | undefined | null>",paraId:1,tocIndex:5},{value:"void",paraId:1,tocIndex:5},{value:"initialValues",paraId:1,tocIndex:5},{value:"initialValues",paraId:1,tocIndex:5},{value:"any",paraId:1,tocIndex:5},{value:"void",paraId:1,tocIndex:5},{value:"Similar to Form, with an additional name attribute",paraId:2,tocIndex:6},{value:"property",paraId:3,tocIndex:6},{value:"description",paraId:3,tocIndex:6},{value:"type",paraId:3,tocIndex:6},{value:"default value",paraId:3,tocIndex:6},{value:"children",paraId:3,tocIndex:6},{value:"React.ReactNode",paraId:3,tocIndex:6},{value:"React.ReactNode",paraId:3,tocIndex:6},{value:"null",paraId:3,tocIndex:6},{value:"control",paraId:3,tocIndex:6},{value:"Form Control",paraId:3,tocIndex:6},{value:"Control",paraId:3,tocIndex:6},{value:"void",paraId:3,tocIndex:6},{value:"rules",paraId:3,tocIndex:6},{value:"Verification rules",paraId:3,tocIndex:6},{value:"Omit<Rule, 'validateTrigger'>[]",paraId:3,tocIndex:6},{value:"void",paraId:3,tocIndex:6},{value:"validateMode",paraId:3,tocIndex:6},{value:"validate mode",paraId:3,tocIndex:6},{value:"ValidateMode",paraId:3,tocIndex:6},{value:"serial",paraId:3,tocIndex:6},{value:"validateTrigger",paraId:3,tocIndex:6},{value:"validate trigger",paraId:3,tocIndex:6},{value:"ValidateTrigger",paraId:3,tocIndex:6},{value:"onChange",paraId:3,tocIndex:6},{value:"ref",paraId:3,tocIndex:6},{value:"React.Ref",paraId:3,tocIndex:6},{value:"React.Ref<Control | undefined | null>",paraId:3,tocIndex:6},{value:"void",paraId:3,tocIndex:6},{value:"initialValue",paraId:3,tocIndex:6},{value:"If a parent control exists, it will not take effect.",paraId:3,tocIndex:6},{value:"any",paraId:3,tocIndex:6},{value:"void",paraId:3,tocIndex:6},{value:"name",paraId:3,tocIndex:6},{value:"input name",paraId:3,tocIndex:6},{value:"NamePath",paraId:3,tocIndex:6},{value:"void",paraId:3,tocIndex:6},{value:"The smallest unit of a form, used to control input, select, or custom form controls (needs to support attributes value and onChange)",paraId:4,tocIndex:7},{value:"property",paraId:5,tocIndex:7},{value:"description",paraId:5,tocIndex:7},{value:"type",paraId:5,tocIndex:7},{value:"default value",paraId:5,tocIndex:7},{value:"children",paraId:5,tocIndex:7},{value:"Input box",paraId:5,tocIndex:7},{value:"React.ReactElement",paraId:5,tocIndex:7},{value:"null",paraId:5,tocIndex:7},{value:"control",paraId:5,tocIndex:7},{value:"Form Control",paraId:5,tocIndex:7},{value:"Control",paraId:5,tocIndex:7},{value:"void",paraId:5,tocIndex:7},{value:"rules",paraId:5,tocIndex:7},{value:"Verification rules",paraId:5,tocIndex:7},{value:"Omit<Rule, 'validateTrigger'>[]",paraId:5,tocIndex:7},{value:"void",paraId:5,tocIndex:7},{value:"validateMode",paraId:5,tocIndex:7},{value:"validate mode",paraId:5,tocIndex:7},{value:"ValidateMode",paraId:5,tocIndex:7},{value:"serial",paraId:5,tocIndex:7},{value:"validateTrigger",paraId:5,tocIndex:7},{value:"validate trigger",paraId:5,tocIndex:7},{value:"ValidateTrigger",paraId:5,tocIndex:7},{value:"onChange",paraId:5,tocIndex:7},{value:"ref",paraId:5,tocIndex:7},{value:"React.Ref",paraId:5,tocIndex:7},{value:"React.Ref<Control | undefined | null>",paraId:5,tocIndex:7},{value:"void",paraId:5,tocIndex:7},{value:"initialValue",paraId:5,tocIndex:7},{value:"If a parent control exists, it will not take effect.",paraId:5,tocIndex:7},{value:"any",paraId:5,tocIndex:7},{value:"void",paraId:5,tocIndex:7},{value:"name",paraId:5,tocIndex:7},{value:"input name",paraId:5,tocIndex:7},{value:"NamePath",paraId:5,tocIndex:7},{value:"void",paraId:5,tocIndex:7},{value:"valuePropName",paraId:5,tocIndex:7},{value:"value prop name",paraId:5,tocIndex:7},{value:"string",paraId:5,tocIndex:7},{value:"value",paraId:5,tocIndex:7},{value:"getValueFromEvent",paraId:5,tocIndex:7},{value:"custom get value",paraId:5,tocIndex:7},{value:"(...args: any[]) => any",paraId:5,tocIndex:7},{value:"void",paraId:5,tocIndex:7},{value:"trigger",paraId:5,tocIndex:7},{value:"value trigger event name",paraId:5,tocIndex:7},{value:"string",paraId:5,tocIndex:7},{value:"onChange",paraId:5,tocIndex:7},{value:"Used to render array type form data",paraId:6,tocIndex:8},{value:"property",paraId:7,tocIndex:8},{value:"description",paraId:7,tocIndex:8},{value:"type",paraId:7,tocIndex:8},{value:"default value",paraId:7,tocIndex:8},{value:"children",paraId:7,tocIndex:8},{value:"child elements",paraId:7,tocIndex:8},{value:"(fields: FormListFieldData[], control: Control) => React.ReactNode",paraId:7,tocIndex:8},{value:"null",paraId:7,tocIndex:8},{value:"control",paraId:7,tocIndex:8},{value:"Form Control",paraId:7,tocIndex:8},{value:"Control",paraId:7,tocIndex:8},{value:"void",paraId:7,tocIndex:8},{value:"rules",paraId:7,tocIndex:8},{value:"Verification rules",paraId:7,tocIndex:8},{value:"Omit<Rule, 'validateTrigger'>[]",paraId:7,tocIndex:8},{value:"void",paraId:7,tocIndex:8},{value:"validateMode",paraId:7,tocIndex:8},{value:"validate mode",paraId:7,tocIndex:8},{value:"ValidateMode",paraId:7,tocIndex:8},{value:"serial",paraId:7,tocIndex:8},{value:"validateTrigger",paraId:7,tocIndex:8},{value:"validate trigger",paraId:7,tocIndex:8},{value:"ValidateTrigger",paraId:7,tocIndex:8},{value:"onChange",paraId:7,tocIndex:8},{value:"ref",paraId:7,tocIndex:8},{value:"React.Ref",paraId:7,tocIndex:8},{value:"React.Ref<Control | undefined | null>",paraId:7,tocIndex:8},{value:"void",paraId:7,tocIndex:8},{value:"initialValue",paraId:7,tocIndex:8},{value:"If a parent control exists, it will not take effect.",paraId:7,tocIndex:8},{value:"any",paraId:7,tocIndex:8},{value:"void",paraId:7,tocIndex:8},{value:"name",paraId:7,tocIndex:8},{value:"input name",paraId:7,tocIndex:8},{value:"NamePath",paraId:7,tocIndex:8},{value:"void",paraId:7,tocIndex:8},{value:"Create a Form Control",paraId:8,tocIndex:9},{value:`type useControl = (control?: Control) => Control
`,paraId:9,tocIndex:9},{value:"The current control example, ",paraId:10,tocIndex:10},{value:"root",paraId:10,tocIndex:10},{value:" is ",paraId:10,tocIndex:10},{value:"true",paraId:10,tocIndex:10},{value:" to get the top instance",paraId:10,tocIndex:10},{value:`type useControl = (root?: boolean) => Control | undefined
`,paraId:11,tocIndex:10},{value:`type useOnValueChange = <T = any>(fn: ({ newValue: T, oldValue: T }) => void, control?: Control) => void;
`,paraId:12,tocIndex:11},{value:`export type Name = string | number;

export type NamePaths = Name[];

export type NonNullableNamePaths = [Name, ...NamePaths];

export type NamePath = Name | NamePaths;
`,paraId:13,tocIndex:13},{value:`export interface ValidateOptions {
  thrownTypes?: ValidateType[];
}
`,paraId:14,tocIndex:14},{value:`export interface Control<Value = any> {
  getValue: () => Value;
  getStrictValue: (name?: NamePath[]) => Value;
  getName: () => NonNullableNamePaths | undefined;
  getFullName: () => NonNullableNamePaths | undefined;
  setValue: (value?: Value) => Value;
  setFieldValue: (name: NamePath, value: any) => void;
  isTouched: () => boolean;
  reset: () => void;
  validate: (options?: ValidateOptions) => Promise<Value>;
  validateFields: (name?: NamePath[], options?: ValidateOptions & { recursive: boolean }) => Promise<Value>;
  getValidationErrors: () => ValidationError[] | undefined;
  clearValidation: () => void;
  add: <T = any>(initialValue?: T, insertIndex?: number) => void;
  remove: (index: number) => void;
  move: (from: number, to: number) => void;
  get: (name?: NamePath) => this | undefined;
}
`,paraId:15,tocIndex:15},{value:`export type ValidateTrigger = 'onChange' | 'onBlur' | 'onFocus';
`,paraId:16,tocIndex:16},{value:`/**
 * @default error
 * @description Error Type.
 */
export type ValidateType = 'error' | 'warning';
`,paraId:17,tocIndex:17},{value:`/**
 * @default serial
 */
export type ValidateMode = 'parallel' | 'serial';
`,paraId:18,tocIndex:18},{value:`export interface Rule {
  type?: ValidateType;
  validateTrigger?: ValidateTrigger[] | ValidateTrigger;
  validator: (control: Control) => Promise<any>;
}
`,paraId:19,tocIndex:19},{value:`export interface ValidationError {
  type: ValidateType;
  message: string;
  control: Control;
}
`,paraId:20,tocIndex:20},{value:`export interface Validation {
  status: 'init' | 'pending' | 'rejected' | 'fulfilled';
  results?: ValidationError[];
}
`,paraId:21,tocIndex:21},{value:`export type Variable = Record<string, string | number | undefined | null>;
`,paraId:22,tocIndex:22},{value:`export interface FormListFieldData {
  name: number;
  key: number;
}
`,paraId:23,tocIndex:23}]},51446:function($,y,r){r.r(y),r.d(y,{texts:function(){return m}});var O=r(68537);const m=[{value:`
\xA0`,paraId:0},{value:`npm install form-pilot
`,paraId:1,tocIndex:0}]},63556:function($,y){y.Z=`import React from 'react';
import Form from 'form-pilot';

export default () => {

  const control = Form.useControl();

  return (
    <>
      <Form.Item
        control={control}
        getValueFromEvent={e => e.target.checked}
      >
        <input type="checkbox" />
      </Form.Item>
      <Form.Update
        control={control}
      >
        {
          (control) => {
            return JSON.stringify(control?.getValue());
          }
        }
      </Form.Update>
    </>
  );
};
`},86712:function($,y){y.Z=`import React from 'react';
import Form, { Rules } from 'form-pilot';
import Item from '../components/Item';
import { Input } from '../components/Input';
import { Row, Col } from '../components/Grid';

export default () => {

  const form = Form.useControl();

  return (
    <Row $gap={6}>
      <Form control={form}>
        <Col $flex="0 0 100%">
          <Item
            name="username"
            label="Username"
            rules={[
              Rules.required(),
              Rules.maxLength(5, {
                type: 'warning',
              }),
            ]}
          >
            <Input />
          </Item>
        </Col>
        <Col $flex="0 0 100%">
          <Item
            name="email"
            label="Email"
            rules={[
              Rules.email(),
            ]}
          >
            <Input />
          </Item>
        </Col>
      </Form>
      <Col $flex="0 0 100%">
        <Row $gap={6}>
          <button
            type="button"
            onClick={async () => {
              const values = await form.validateFields();
              // eslint-disable-next-line no-console
              console.log(values);
            }}
          >\u63D0\u4EA4</button>
          <button
            type="button"
            onClick={async () => {
              form.reset();
            }}
          >\u91CD\u7F6E</button>
          <button
            type="button"
            onClick={async () => {
              form.clearValidation();
            }}
          >\u6E05\u9664\u6821\u9A8C</button>
        </Row>
      </Col>
    </Row>
  );
};
`},16752:function($,y){y.Z=`import React from 'react';
import Form, { Rules } from 'form-pilot';
import type { FormItemProps } from 'form-pilot';

const CustomItem = (props: FormItemProps) => {
  const control = Form.useControl(props.control);
  return (
    <div>
      <Form.Item {...props} control={control} />
      <Form.Validation control={control}>
        {
          (validation) => {
            return (
              <div>
                {
                  validation?.results?.map((result, index) => {
                    return (
                      <span key={index} style={{ color: result.type === 'error' ? 'red' : 'orange' }} >{result.message}</span>
                    );
                  })
                }
              </div>
            );
          }
        }
      </Form.Validation>
    </div>
  );
};

export default () => {
  const control = Form.useControl();
  return (
    <form onSubmit={(e) => {
      e.preventDefault();
      control.validateFields().then(values => {
        // eslint-disable-next-line no-console
        console.log(values);
      }).catch(err => {
        // eslint-disable-next-line no-console
        console.log(err);
      });
      return false;
    }}>
      <Form control={control} initialValues={{ nickname: 'hello world', information: { age: 18, email: '' }, skills: [{ name: 'basketball', desc: 'A+' }] }}>
        <CustomItem
          name="nickname"
          rules={[Rules.required(), Rules.maxLength(10, { type: 'warning' })]}
        ><input /></CustomItem>
        <Form.Group name="information">
          <CustomItem name="age"><input type="number" /></CustomItem>
          <CustomItem name="email" rules={[Rules.email()]}><input /></CustomItem>
        </Form.Group>
        <Form.List name="skills">
          {
            (fields, control) => {
              return (
                <>
                  {
                    fields.map(field => {
                      return (
                        <div key={field.key} style={{ display: 'flex' }}>
                          <Form.Group name={field.name}>
                            <CustomItem name="name"><input /></CustomItem>
                            <CustomItem name="desc"><input /></CustomItem>
                            <button type="button" onClick={() => control.remove(field.name)}>remove this item</button>
                          </Form.Group>
                        </div>
                      );
                    })
                  }
                  <button type="button" onClick={() => control.add({ name: '', desc: '' })}>Add Item</button>
                </>
              );
            }
          }
        </Form.List>
      </Form>
      <div>
        <button type="submit">Submit</button>
        <button type="button" onClick={() => control.reset()}>Reset</button>
        <button type="button" onClick={() => control.clearValidation()}>Clear Validation Errors</button>
      </div>
    </form>
  );
};
`},47844:function($,y){y.Z=`import React from 'react';
import Form from 'form-pilot';
import { Input } from './components/Input';
import { Col, Row } from './components/Grid';

export default () => {

  const control = Form.useControl();

  return (
    <>
      <Row $gap={8}>
        {new Date().toLocaleString()}
        <Form control={control}>
          <Form.Group name="info">
            <Col $flex="0 0 100%">
              <Form.Item
                name="username"
                initialValue="\u9ED8\u8BA4\u503C username"
              >
                <Input placeholder="username" />
              </Form.Item>
            </Col>
            <Col>
              <Form.Item
                name="age"
                initialValue="\u9ED8\u8BA4\u503C 18"
              >
                <Input placeholder="age" />
              </Form.Item>
            </Col>
          </Form.Group>
        </Form>
        <Col $flex="0 0 100%">
          <Row $gap={8}>
            <button
              onClick={() => {
                // eslint-disable-next-line no-console
                console.log(control.getValue());
              }}
              type="button"
            >control.getValue()</button>
            <button
              onClick={() => {
                // eslint-disable-next-line no-console
                console.log((control as any).getStore('_STORE_INTERNAL_TOKEN_'));
              }}
              type="button"
            >control.getStore()</button>
            <button
              onClick={() => control.reset()}
              type="button"
            >reset</button>
          </Row>
        </Col>
      </Row>
    </>
  );
};
`},98666:function($,y){y.Z=`import React from 'react';
import Form from 'form-pilot';
import { Col, Row } from './components/Grid';
import { Input } from './components/Input';

export default () => {

  const control = Form.useControl();
  
  const usernameControl = Form.useControl();
  const username = Form.useWatch(usernameControl);
  const values = Form.useWatch(control);
  const independentControl = Form.useControl();

  return (
    <>
      <div>
        {new Date().toLocaleString()}
        <Form
          control={control}
          initialValues={{
            username: '\u9ED8\u8BA4\u503C root',
            password: 'password',
            extra: {
              a: 1,
              b: 2,
            },
          }}
        >
          <Row $gap={8}>
            <Col $flex="0 0 33.3%">
              <Form.Item
                name="username"
                control={usernameControl}
                initialValue="\u9ED8\u8BA4\u503C"
              >
                <Input placeholder="username" />
              </Form.Item>
              {username}
            </Col>
            <Col $flex="0 0 33.3%">
              <Form.Item
                name="password"
              >
                <Input placeholder="password" />
              </Form.Item>
            </Col>
            <Col $flex="0 0 33.3%">
              <Form.Item
                name={['name', 'first']}
              >
                <Input placeholder="name, first" />
              </Form.Item>
            </Col>
            <Col $flex="0 0 33.3%">
              <Form.Item
                name={['name', 'last']}
              >
                <Input placeholder="name, last" />
              </Form.Item>
            </Col>
            <Col $flex="0 0 33.3%">
              <Form.Group
                name={'detail'}
              >
                <Form.Item name="age">
                  <Input placeholder="detail, age" />
                </Form.Item>
              </Form.Group>
            </Col>
            <Col $flex="0 0 33.3%">
              <Form.Item name={['detail', 'introduce']}>
                <Input placeholder="detail, introduce" />
              </Form.Item>
            </Col>
            <Col $flex="0 0 100%">
              <Form.List
                name="list"
              >
                {
                  (fields, { add, remove }) => {
                    return (
                      <Row $gap={8}>
                        {
                          fields.map(field => {
                            return (
                              <Form.Group key={field.key} name={field.name}>
                                <Col $flex="0 0 100%">
                                  <Row $gap={8}>
                                    <Col $flex="0 0 200px">
                                      <Form.Item
                                        name="prefix"
                                      >
                                        <Input placeholder="prefix" style={{ width: '100%' }} />
                                      </Form.Item>
                                    </Col>
                                    <Col>
                                      <button
                                        onClick={() => remove(field.name)}
                                        type="button"
                                      >\u5220\u9664</button>
                                    </Col>
                                  </Row>
                                </Col>
                              </Form.Group>
                            );
                          })
                        }
                        <Col $flex="0 0 100%">
                          <button
                            onClick={() => add()}
                            type="button"
                          >Add</button>
                        </Col>
                      </Row>
                    );
                  }
                }
              </Form.List>
            </Col>
            <div>
              <Form.Item control={independentControl}>
                <Input placeholder="\u72EC\u7ACB\u53D7\u63A7\uFF08\u8131\u79BBForm\uFF09" />
              </Form.Item>
              <button
                onClick={() => independentControl.setValue('independentControl')}
                type="button"
              >independentControl</button>
            </div>
          </Row>
        </Form>
      </div>
      <div>
        {
          JSON.stringify(values, null, 2)
        }
      </div>
      <div>
        <div>
          <button
            onClick={() => {
              // eslint-disable-next-line no-console
              console.log(control.getValue());
            }}
            type="button"
          >control.getValue()</button>
          <button
            onClick={() => {
              // eslint-disable-next-line no-console
              console.log(control.getStrictValue());
            }}
            type="button"
          >control.getStrictValue()</button>
          <button
            onClick={() => control.reset()}
            type="button"
          >reset</button>
          <button
            onClick={() => control.setFieldValue(['list'], [{ prefix: '123' }])}
            type="button"
          >setFieldValue</button>
        </div>
      </div>
    </>
  );
};
`},62935:function($,y){y.Z=`import type React from 'react';
import styled from 'styled-components';

const number2string = (input?: number | string) => {
  if (typeof input === 'number') {
    return \`\${input}px\`;
  }
  return input;
};

interface RowProps {
  $align?: React.CSSProperties['alignItems'];
  $justify?: React.CSSProperties['justifyContent'];
  $gap?: React.CSSProperties['gap'];
}
export const Row = styled.div<RowProps>\`
  display: flex;
  flex-wrap: wrap;
  align-items: \${props => props.$align ?? 'center'};
  justify-content: \${props => props.$justify ?? 'unset'};
  gap: \${props => number2string(props.$gap) ?? 'unset'};
\`;

interface ColProps {
  $flex?: React.CSSProperties['flex'];
}
export const Col = styled.div<ColProps>\`
  flex: \${props => props.$flex ?? '0 0 auto'};
\`;
`},31375:function($,y){y.Z=`import React from 'react';

export const Input = (props: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>) => {

  let mergedProps = props;

  if ('value' in props) {
    mergedProps = {
      ...props,
      value: props.value ?? '',
    };
  }

  return (
    <input {...mergedProps} />
  );
};
`},75697:function($,y){y.Z=`import React from 'react';
import Form from 'form-pilot';
import type { FormItemProps } from 'form-pilot';

interface ItemProps extends FormItemProps {
  label?: React.ReactNode;
}
export default (props: ItemProps) => {

  const { label, ...restProps } = props;

  const control = Form.useControl(props.control);

  return (
    <div>
      {
        !!label && (
          <span style={{ marginRight: 8 }}>{label}</span>
        )
      }
      <Form.Item
        {...restProps}
        control={control}
      />
      <Form.Validation
        control={control}
      >
        {
          (validation) => {
            return (
              <div>
                {
                  validation?.results?.map((result, index) => {
                    return (
                      <span
                        key={index}
                        style={{
                          color: result.type === 'error' ? 'red' : 'orange',
                        }}
                      >{result.message}</span>
                    );
                  })
                }
              </div>
            );
          }
        }
      </Form.Validation>
    </div>
  );
};
`}}]);
